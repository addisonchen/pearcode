(this["webpackJsonpevents-web-ui"]=this["webpackJsonpevents-web-ui"]||[]).push([[0],{499:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(14),i=n.n(c),l=n(16),r=n(17),o=(n(70),n(71),n(506)),d=n(10),j=n(21),u=n(4),x=n(0);function b(){return Object(x.jsx)("div",{style:{width:"fit-content"},children:Object(x.jsx)(r.b,{to:"/",style:{height:"48px"},children:Object(x.jsxs)("div",{className:"flex-row center homeIconContainer",children:[Object(x.jsx)("h1",{style:{cursor:"pointer"},children:"\ud83c\udf50"}),Object(x.jsx)("div",{style:{width:"10px"}}),Object(x.jsxs)("h1",{style:{cursor:"pointer"},children:[Object(x.jsx)("span",{className:"homeIcon",children:"Pear"}),"Code"]})]})})})}var h=n(509),m=n(508),p=(n(19),n(42),n(30)),O=n.n(p),g=n(31),v=n(498),f=new g.Socket("wss://api.pearcode.swoogity.com/socket",{params:{token:""}});f.connect();var w=null,y=null,N=null;function C(e){y.push("update",{body:e})}function S(){y&&y.leave()}function k(e){y.push("execute",{language:e})}n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55);function E(){var e=Object(d.f)();return Object(x.jsx)(h.a,{variant:"outline-light",onClick:function(){e.push("/signup"),S()},children:"Sign Up | Login"})}var B=Object(l.b)((function(e){return{session:e.session}}))((function(e){var t=e.session,n=Object(d.f)();return Object(x.jsxs)(h.a,{variant:"outline-light",onClick:function(){n.push("/users/".concat(t.user_id)),S()},style:{textOverflow:"clip",whiteSpace:"nowrap"},children:[t.name," | Profile"]})}));var _=Object(l.b)((function(e){return{session:e.session}}))((function(e){var t=e.session,n=Object(s.useState)(""),a=Object(u.a)(n,2),c=a[0],i=a[1],l=Object(s.useState)(0),r=Object(u.a)(l,2),o=r[0],d=r[1],p=Object(s.useState)(!1),_=Object(u.a)(p,2),H=_[0],P=_[1],L=Object(s.useState)(null),T=Object(u.a)(L,2),D=T[0],G=T[1],F=Object(s.useState)(71),U=Object(u.a)(F,2),I=U[0],J=U[1],R=Object(s.useState)([!1,!1]),A=Object(u.a)(R,2),z=A[0],W=A[1];function M(e){var t=Object(j.a)(z);t[e]=!t[e],W(t)}function Y(e){S()}return Object(s.useEffect)((function(){!function(e){y=f.channel("lobby:".concat(v.v4()),{name:"",user_id:0}),w=e,N=new g.Presence(y),y.join().receive("ok",(function(e){w.setBody(e.body),w.setConnected(1)})).receive("error",(function(e){console.log("unable to join:",e),w.setConnected(2)})),y.on("executing",(function(){w.setExecuting(!0)})),y.on("submission_result",(function(e){w.setExecuting(!1),w.setResult(e)}))}({setBody:i,setConnected:d,setExecuting:P,setResult:G})}),[]),Object(s.useEffect)((function(){return window.addEventListener("beforeunload",Y),function(){return window.removeEventListener("beforeunload",Y)}}),[]),Object(x.jsx)("div",{className:"maxSize",children:Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsxs)("div",{className:"padding",style:{width:"500px",height:"100vh",overflowY:"scroll"},children:[Object(x.jsxs)("div",{className:"flex-row center space-between",children:[Object(x.jsx)(b,{}),t?Object(x.jsx)(B,{}):Object(x.jsx)(E,{})]}),Object(x.jsx)("div",{style:{height:"30px"}}),Object(x.jsxs)("div",{className:"box slimPadding flex-column boxHeadingContainer ".concat(z[0]?"":"closed"),style:{margin:"20px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){M(0)},children:[Object(x.jsx)("h5",{className:"toggleBoxHeading",children:"About"}),z[0]?Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"-"}):Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"+"})]}),Object(x.jsxs)("div",{style:{overflow:"scroll",padding:"20px 0px"},children:[Object(x.jsx)("p",{children:"Welcome to Pearcode, a collaborative development environment for quick testing and live pair programming."}),Object(x.jsx)("div",{style:{height:"20px"}}),Object(x.jsx)("p",{children:"Choose a language and get coding!"})]})]}),Object(x.jsx)("div",{className:"box slimPadding flex-row boxHeadingContainer",style:{margin:"20px 0px"},children:0===o?Object(x.jsxs)("div",{className:"flex-row centercenter",style:{width:"100%",height:"100%"},children:[Object(x.jsx)("div",{className:"spinner"}),Object(x.jsx)("div",{style:{width:"10px"}}),Object(x.jsx)("p",{children:"connecting..."})]}):1===o?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a.Control,{className:"dark-form",as:"select",value:I,onChange:function(e){J(e.target.value)},children:[Object(x.jsx)("option",{value:50,children:"C (GCC 9.2.0)"}),Object(x.jsx)("option",{value:54,children:"C++ (GCC 9.2.0)"}),Object(x.jsx)("option",{value:57,children:"Elixir"}),Object(x.jsx)("option",{value:62,children:"Java 13"}),Object(x.jsx)("option",{value:63,children:"JavaScript 12.14"}),Object(x.jsx)("option",{value:69,children:"Prolog (GNU 1.4.5)"}),Object(x.jsx)("option",{value:71,children:"Python 3"}),Object(x.jsx)("option",{value:72,children:"Ruby 2.7"}),Object(x.jsx)("option",{value:83,children:"Swift 5"})]}),Object(x.jsx)("div",{style:{width:"10px"}}),Object(x.jsx)(h.a,{variant:H?"outline-warning":"outline-success",onClick:function(){H||k(parseInt(I))},style:{minWidth:"84px"},children:H?Object(x.jsx)("div",{className:"flex-row centercenter",style:{width:"100%",height:"100%"},children:Object(x.jsx)("div",{className:"smallSpinner"})}):"Execute"})]}):Object(x.jsx)("p",{className:"text-danger",children:"Failed to connect, try refreshing the page"})}),Object(x.jsxs)("div",{className:"box slimPadding flex-column boxHeadingContainer ".concat(z[1]?"":"closed"),style:{margin:"20px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){M(1)},children:[Object(x.jsx)("h5",{className:"toggleBoxHeading",children:"Results"}),z[1]?Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"-"}):Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"+"})]}),Object(x.jsx)("div",{className:"insetBorder",style:{height:"500px",overflow:"scroll"},children:D?Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"bold green",children:"Time:"})," ",D.time]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"bold green",children:"Memory:"})," ",D.memory,"kb"]}),Object(x.jsxs)("p",{style:{whiteSpace:"pre-line"},children:[Object(x.jsx)("span",{className:"bold green",children:"stdout:"})," ","\n".concat(D.stdout)]})]}):Object(x.jsx)("p",{children:"No results yet, run code to see results."})})]})]}),Object(x.jsx)("div",{style:{flexGrow:"1"},children:Object(x.jsx)(O.a,{mode:function(e){if("string"===typeof e)switch(e){case"50":case"54":return"c_cpp";case"57":return"elixir";case"62":return"java";case"63":return"javascript";case"69":return"prolog";case"71":return"python";case"72":return"ruby";case"83":return"swift";default:return console.log("idToMode - unkown language id: ".concat(e)),"python"}else switch(e){case 50:case 54:return"c_cpp";case 57:return"elixir";case 62:return"java";case 63:return"javascript";case 69:return"prolog";case 71:return"python";case 72:return"ruby";case 83:return"swift";default:return console.log("idToMode - unkown language id: ".concat(e)),"python"}}(I),theme:"pastel_on_dark",height:"100vh",width:"100%",value:c,onChange:function(e){i(e),C(e)},highlightActiveLine:!0,showGutter:!0,readOnly:!1,setOptions:{enableLiveAutocompletion:!0,showLineNumbers:!0}})})]})})})),H=n(18),P=n.n(H),L=n(27),T=n(25);function D(e){var t=Object.assign({},e,{time:Date.now()});localStorage.setItem("session",JSON.stringify(t))}function G(){localStorage.setItem("session",null)}function F(){var e=localStorage.getItem("session");if(!e)return null;if(null===(e=JSON.parse(e)))return null;return Date.now()-e.time<2592e5?e:null}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"session/set":return D(t.data),t.data;case"session/clear":return G(),null;default:return e}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"session/set":return null;case"error/set":return t.data;default:return e}}var J=Object(T.c)((function(e,t){return Object(T.b)({session:U,error:I})(e,t)})),R="https://api.pearcode.swoogity.com/api/v1";function A(e){return z.apply(this,arguments)}function z(){return(z=Object(L.a)(P.a.mark((function e(t){var n,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(R+t,{});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return M.apply(this,arguments)}function M(){return(M=Object(L.a)(P.a.mark((function e(t,n){var s,a,c,i,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J.getState(),c=null===a||void 0===a||null===(s=a.session)||void 0===s?void 0:s.token,i={method:"POST",headers:{"Content-Type":"application/json","x-auth":c},body:JSON.stringify(n)},e.next=5,fetch(R+t,i);case 5:return l=e.sent,e.next=8,l.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return q.apply(this,arguments)}function q(){return(q=Object(L.a)(P.a.mark((function e(t){var n,s,a,c,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=J.getState(),a=null===s||void 0===s||null===(n=s.session)||void 0===n?void 0:n.token,c={method:"DELETE",headers:{"Content-Type":"application/json","x-auth":a}},e.next=5,fetch(R+t,c);case 5:return i=e.sent,e.next=8,i.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(L.a)(P.a.mark((function e(t,n){var s,a,c,i,l;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=J.getState(),c=null===a||void 0===a||null===(s=a.session)||void 0===s?void 0:s.token,i={method:"PUT",headers:{"Content-Type":"application/json","x-auth":c},body:JSON.stringify(n)},e.next=5,fetch(R+t,i);case 5:return l=e.sent,e.next=8,l.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t){return W("/session",{email:e,password:t}).then((function(e){if(e.session){var t={type:"session/set",data:e.session};return J.dispatch(t),e.session.user_id}if(e.error){var n={type:"error/set",data:e.error};return J.dispatch(n),!1}}))}function X(e){return W("/users",{user:e})}function Z(e){return A("/users/".concat(e))}function $(e){return A("/files/".concat(e))}function ee(e){return Y("/files/".concat(e))}function te(e){return W("/invites",{invite:e})}function ne(){return A("/invites")}var se=Object(l.b)((function(e){return{error:e.error}}))((function(e){var t=e.error,n=Object(d.f)(),a=Object(s.useState)(""),c=Object(u.a)(a,2),i=c[0],l=c[1],r=Object(s.useState)(""),o=Object(u.a)(r,2),j=o[0],b=o[1],p=null;return t&&(p=Object(x.jsx)("p",{className:"text-danger",style:{width:"100%",marginBottom:"20px"},children:t})),Object(x.jsxs)("div",{style:{overflow:"visible"},children:[Object(x.jsx)("div",{style:{height:"30px"}}),Object(x.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),V(i,j).then((function(e){e&&n.push("/users/".concat(e))}))},autoComplete:"new-password",style:{width:"400px",overflow:"visible"},children:[Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Label,{children:"Email"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"text",placeholder:"Enter email",onChange:function(e){return l(e.target.value)},value:i})]}),Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Label,{children:"Password"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"password",placeholder:"Enter password",onChange:function(e){return b(e.target.value)},value:j})]}),Object(x.jsx)("div",{style:{height:"20px"}}),Object(x.jsxs)("div",{className:"flex-row center end",style:{overflow:"visible"},children:[p,Object(x.jsx)(h.a,{variant:"outline-success",type:"submit",children:"Login"})]})]})]})}));function ae(){var e=Object(d.f)(),t=Object(s.useState)({name:"",email:"",password:""}),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)({name:null,email:null,password:null}),l=Object(u.a)(i,2),r=l[0],o=l[1];return Object(x.jsxs)("div",{style:{overflow:"visible"},children:[Object(x.jsx)("div",{style:{height:"30px"}}),Object(x.jsxs)(m.a,{onSubmit:function(t){if(t.preventDefault(),a.password.length<8){var n=Object.assign({},r);return n.password="password must be 8 characters or longer",void o(n)}if(a.name.length>=10){var s=Object.assign({},r);return s.name="Name must be 10 characters or less",void o(s)}X(a).then((function(t){if(t.errors){var n=Object.assign({},r);t.errors.name?n.name=t.errors.name[0]:n.name="",t.errors.email?n.email=t.errors.email[0]:n.email="",t.errors.password?n.password=t.errors.password[0]:n.password="",o(n)}else V(a.email,a.password).then((function(t){t&&e.push("/users/".concat(t))}))}))},autoComplete:"new-password",style:{width:"400px",overflow:"visible"},children:[Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Label,{children:"Name"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"text",onChange:function(e){var t=Object.assign({},a);t.name=e.target.value,c(t)},value:a.name,placeholder:"Enter name"}),r.name?Object(x.jsx)(m.a.Text,{className:"text-danger",children:r.name}):Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Choose any name! (as long as its shortish)"})]}),Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Label,{children:"Email"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"email",onChange:function(e){var t=Object.assign({},a);t.email=e.target.value,c(t)},value:a.email,placeholder:"Enter email"}),r.email?Object(x.jsx)(m.a.Text,{className:"text-danger",children:r.email}):Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Your email might get stolen if we get hacked, just fyi"})]}),Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Label,{children:"Password"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"password",onChange:function(e){var t=Object.assign({},a);t.password=e.target.value,c(t)},value:a.password,placeholder:"Choose a password"}),r.password?Object(x.jsx)(m.a.Text,{className:"text-danger",children:r.password}):Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Use a password you don't use anywhere else (in case of hackers)"})]}),Object(x.jsx)("div",{className:"flex-row end",style:{overflow:"visible"},children:Object(x.jsx)(h.a,{variant:"outline-success",type:"submit",children:"Sign Up"})})]})]})}function ce(){var e=Object(s.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(x.jsxs)("div",{className:"windowSize padding",children:[Object(x.jsx)(b,{}),Object(x.jsx)("div",{className:"loginContainer",children:Object(x.jsx)("div",{style:{minHeight:"520px",overflow:"visible"},children:Object(x.jsxs)("div",{className:"box wa",children:[Object(x.jsx)("div",{className:"toggleContainer",onClick:function(e){e.preventDefault(),a(!n)},children:Object(x.jsxs)("div",{className:"flex-row",style:{width:"100%",height:"100%"},children:[Object(x.jsx)("div",{className:"toggleHighlight ".concat(n?"left":"right")}),Object(x.jsx)("div",{className:"toggleText",children:Object(x.jsx)("h5",{className:"".concat(n?"green":""),style:{userSelect:"none",cursor:"inherit"},children:"Sign Up"})}),Object(x.jsx)("div",{className:"toggleText",children:Object(x.jsx)("h5",{className:"".concat(n?"":"green"),style:{userSelect:"none",cursor:"inherit"},children:"Login"})})]})}),n?Object(x.jsx)(ae,{}):Object(x.jsx)(se,{})]})})})]})}var ie=n(504),le=n(58);function re(e){var t=e.user,n=e.setUser,a=e.invites,c=e.owner,i=Object(d.f)(),l=Object(s.useState)(""),r=Object(u.a)(l,2),o=r[0],j=r[1],b=Object(s.useState)(""),p=Object(u.a)(b,2),O=p[0],g=p[1],v=Object(s.useState)("0"),f=Object(u.a)(v,2),w=f[0],y=f[1],N=Object(s.useState)("0"),C=Object(u.a)(N,2),S=C[0],k=C[1],E=Object(s.useState)(!1),B=Object(u.a)(E,2),_=B[0],H=B[1],P=Object(s.useState)(!1),L=Object(u.a)(P,2),T=L[0],D=L[1],G=Object(s.useState)(t.files),F=Object(u.a)(G,2),U=F[0],I=F[1],J=Object(s.useState)(a),R=Object(u.a)(J,2),A=R[0],z=R[1];Object(s.useEffect)((function(){I(_?t.files.filter((function(e){var t=e.name.toUpperCase(),n=o.toUpperCase();return"0"===w?t.includes(n):t.includes(n)&&e.language==w})):t.files)}),[t.files,o,_,w]),Object(s.useEffect)((function(){z(a.filter((function(e){var n=e.file.name.toUpperCase(),s=O.toUpperCase();return"0"===S?n.includes(s)&&e.email!=t.email:(console.log("".concat(e.email," | ").concat(t.email)),console.log("".concat(e.file.language," | ").concat(S)),n.includes(s)&&e.file.language==S&&e.email!=t.email)})))}),[a,O,T,S,t.email]);var W={71:"Python",83:"Swift",63:"JavaScript",62:"Java",50:"C",54:"C++",57:"Elixir",69:"Prolog",72:"Ruby"};function M(e){e.stopPropagation(),ee(e.target.value).then((function(){Z(t.user_id).then((function(e){e.files.sort(de),n({name:e.name,email:e.email,files:e.files})}))}))}return Object(x.jsxs)(ie.a,{style:{paddingTop:"20px"},children:[Object(x.jsxs)(le.a,{sm:6,style:{overflow:"visible"},children:[Object(x.jsxs)("div",{className:"flex-row center space-between",style:{padding:"20px 10px"},children:[Object(x.jsx)("h1",{children:"Personal Files"}),_?Object(x.jsx)("div",{className:"closeIcon",onClick:function(){H(!1),j(""),y("0")}}):Object(x.jsx)("div",{className:"searchIcon",onClick:function(){H(!0)}})]}),_?Object(x.jsx)(m.a,{autoComplete:"new-password",className:"box inset",style:{padding:"10px",marginTop:"-10px",marginBottom:"20px"},children:Object(x.jsxs)("div",{className:"flex-row space-between",children:[Object(x.jsx)(m.a.Group,{style:{width:"45%",margin:"0px"},children:Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form green",type:"text",value:o,placeholder:"Search by name",onChange:function(e){j(e.target.value)}})}),Object(x.jsx)(m.a.Group,{style:{width:"45%",margin:"0px"},children:Object(x.jsxs)(m.a.Control,{className:"dark-form green",as:"select",value:w,onChange:function(e){y(e.target.value)},children:[Object(x.jsx)("option",{value:0,children:"Filter Language"}),Object(x.jsx)("option",{value:50,children:"C (GCC 9.2.0)"}),Object(x.jsx)("option",{value:54,children:"C++ (GCC 9.2.0)"}),Object(x.jsx)("option",{value:57,children:"Elixir"}),Object(x.jsx)("option",{value:62,children:"Java 13"}),Object(x.jsx)("option",{value:63,children:"JavaScript 12.14"}),Object(x.jsx)("option",{value:69,children:"Prolog (GNU 1.4.5)"}),Object(x.jsx)("option",{value:71,children:"Python 3"}),Object(x.jsx)("option",{value:72,children:"Ruby 2.7"}),Object(x.jsx)("option",{value:83,children:"Swift 5"})]})})]})}):Object(x.jsx)(x.Fragment,{}),0===U.length?Object(x.jsx)("div",{className:"fileDisplay",children:Object(x.jsx)("p",{children:"No files found"})}):U.map((function(e){return Object(x.jsx)("div",{className:"fileDisplay clickable ".concat(c?"owner":""),onClick:function(){i.push("/files/".concat(e.id))},children:Object(x.jsxs)("div",{className:"flex-row space-between",style:{overflow:"visible"},children:[Object(x.jsx)("p",{className:"fileDisplayText",children:e.name}),c?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:"fileDisplayLanguage",children:W[e.language]}),Object(x.jsx)(h.a,{className:"fileDisplayDelete",variant:"outline-danger",onClick:M,value:e.id,children:"Delete"})]}):Object(x.jsx)("p",{className:"fileDisplayLanguage",children:W[e.language]})]})},e.id)}))]}),Object(x.jsxs)(le.a,{sm:6,children:[Object(x.jsxs)("div",{className:"flex-row center space-between",style:{padding:"20px 10px"},children:[Object(x.jsx)("h1",{children:"Invited To"}),T?Object(x.jsx)("div",{className:"closeIcon",onClick:function(){D(!1),g(""),k("0")}}):Object(x.jsx)("div",{className:"searchIcon",onClick:function(){D(!0)}})]}),T?Object(x.jsx)(m.a,{autoComplete:"new-password",className:"box inset",style:{padding:"10px",marginTop:"-10px",marginBottom:"20px"},children:Object(x.jsxs)("div",{className:"flex-row space-between",children:[Object(x.jsx)(m.a.Group,{style:{width:"45%",margin:"0px"},children:Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form green",type:"text",value:O,placeholder:"Search by name",onChange:function(e){g(e.target.value)}})}),Object(x.jsx)(m.a.Group,{style:{width:"45%",margin:"0px"},children:Object(x.jsxs)(m.a.Control,{className:"dark-form green",as:"select",value:S,onChange:function(e){k(e.target.value)},children:[Object(x.jsx)("option",{value:0,children:"Filter Language"}),Object(x.jsx)("option",{value:50,children:"C (GCC 9.2.0)"}),Object(x.jsx)("option",{value:54,children:"C++ (GCC 9.2.0)"}),Object(x.jsx)("option",{value:57,children:"Elixir"}),Object(x.jsx)("option",{value:62,children:"Java 13"}),Object(x.jsx)("option",{value:63,children:"JavaScript 12.14"}),Object(x.jsx)("option",{value:69,children:"Prolog (GNU 1.4.5)"}),Object(x.jsx)("option",{value:71,children:"Python 3"}),Object(x.jsx)("option",{value:72,children:"Ruby 2.7"}),Object(x.jsx)("option",{value:83,children:"Swift 5"})]})})]})}):Object(x.jsx)(x.Fragment,{}),0===A.length?Object(x.jsx)("div",{className:"fileDisplay",children:Object(x.jsx)("p",{children:"No files found"})}):A.map((function(e){return Object(x.jsx)("div",{className:"fileDisplay clickable",onClick:function(t){i.push("/files/".concat(e.file.id))},children:Object(x.jsxs)("div",{className:"flex-row space-between",children:[Object(x.jsx)("p",{className:"fileDisplayText",children:e.file.name}),Object(x.jsx)("p",{children:W[e.file.language]})]})},e.file.id)}))]})]})}var oe=function(e,t){var n=e.file.name.toUpperCase(),s=t.file.name.toUpperCase();return n<s?-1:n>s?1:0},de=function(e,t){var n=e.name.toUpperCase(),s=t.name.toUpperCase();return n<s?-1:n>s?1:0};function je(e){var t=e.id,n=Object(s.useState)(!0),a=Object(u.a)(n,2),c=a[0],i=a[1],l=Object(s.useState)({name:"",email:"",files:[]}),r=Object(u.a)(l,2),o=r[0],d=r[1],j=Object(s.useState)([]),h=Object(u.a)(j,2),m=h[0],p=h[1];return Object(s.useEffect)((function(){Z(t).then((function(e){e.files.sort(de),d({name:e.name,email:e.email,files:e.files})})).catch((function(e){i(!1)})).finally(ne().then((function(e){var t=e.filter((function(e){return e.email===o.email}));t.sort(oe),p(t)})))}),[t,o.email]),Object(x.jsxs)("div",{className:"windowSize padding",style:{overflow:"scroll"},children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)(b,{style:{marginBottom:"40px"}})}),Object(x.jsx)(ie.a,{style:{padding:"15px 0px"},children:Object(x.jsx)(le.a,{children:c?Object(x.jsx)("div",{className:"flex-column end",style:{width:"100%",overflow:"visible"},children:Object(x.jsxs)("div",{className:"flex-column end box",style:{width:"auto",minWidth:"400px"},children:[Object(x.jsx)("h1",{className:"username",children:o.name}),Object(x.jsx)("p",{children:o.email})]})}):Object(x.jsx)("div",{className:"flex-column end",style:{width:"100%",overflow:"visible"},children:Object(x.jsxs)("div",{className:"flex-column end box",style:{width:"auto"},children:[Object(x.jsx)("h1",{className:"username",children:"Not Found"}),Object(x.jsx)("p",{children:"unkown@email.com"})]})})})}),Object(x.jsx)(re,{user:o,setUser:null,invites:m,owner:!1})]})}function ue(e){var t=e.session,n=e.setEdit,a=e.edit,c=e.parentUser,i=Object(d.f)(),l=Object(s.useState)({name:c.name,email:c.email}),r=Object(u.a)(l,2),o=r[0],j=r[1],b=Object(s.useState)({name:null,email:null}),p=Object(u.a)(b,2),O=p[0],g=p[1];return Object(x.jsx)(m.a,{autoComplete:"new-password",style:{width:"100%",height:"100%",overflow:"visible"},onSubmit:function(e){if(e.preventDefault(),o.name.length>=10){var n=Object.assign({},O);return n.name="Name must be 10 characters or less",void g(n)}var s,a;(s=t.user_id,a={id:t.user_id,user:o},K("/users/".concat(s),a)).then((function(e){if(e.errors){var t=Object.assign({},O);e.errors.name?t.name=e.errors.name[0]:t.name="",e.errors.email?t.email=e.errors.email[0]:t.email="",g(t)}else i.go(0)}))},children:Object(x.jsxs)("div",{className:"flex-column space-between",style:{height:"100%"},children:[Object(x.jsx)("h1",{children:"Edit Profile"}),Object(x.jsxs)(ie.a,{children:[Object(x.jsx)(le.a,{style:{paddingLeft:"0px"},children:Object(x.jsxs)(m.a.Group,{children:[Object(x.jsxs)(m.a.Label,{children:["Name",Object(x.jsx)("span",{className:"text-danger",children:O.name?" - ".concat(O.name):null})]}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"text",onChange:function(e){var t=Object.assign({},o);t.name=e.target.value,j(t)},value:o.name,placeholder:"Enter name"})]})}),Object(x.jsx)(le.a,{style:{paddingRight:"0px"},children:Object(x.jsxs)(m.a.Group,{children:[Object(x.jsxs)(m.a.Label,{children:["Email",Object(x.jsx)("span",{className:"text-danger",children:O.email?" - ".concat(O.email):null})]}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"email",onChange:function(e){var t=Object.assign({},o);t.email=e.target.value,j(t)},value:o.email,placeholder:"Enter email"})]})})]}),Object(x.jsxs)("div",{className:"flex-row space-between",style:{overflow:"visible"},children:[Object(x.jsx)(h.a,{variant:"outline-light",className:"tripleButton",onClick:function(){n(!a)},children:"Cancel"}),Object(x.jsx)(h.a,{variant:"outline-danger",className:"tripleButton",onClick:function(e){var n;(n=t.user_id,Y("/users/".concat(n))).then((function(e){J.dispatch({type:"session/clear"}),i.push("/")}))},children:"Delete Acct"}),Object(x.jsx)(h.a,{variant:"outline-success",className:"tripleButton",type:"submit",children:"Save Changes"})]})]})})}function xe(e){var t=e.session,n=Object(d.f)(),a=Object(s.useState)(!1),c=Object(u.a)(a,2),i=c[0],l=c[1],r=Object(s.useState)({name:"",email:"",files:[]}),o=Object(u.a)(r,2),j=o[0],p=o[1],O=Object(s.useState)({name:"",language:50,description:"",body:"",user_id:t.user_id}),g=Object(u.a)(O,2),v=g[0],f=g[1],w=Object(s.useState)(!1),y=Object(u.a)(w,2),N=y[0],C=y[1],S=Object(s.useState)([]),k=Object(u.a)(S,2),E=k[0],B=k[1];return Object(s.useEffect)((function(){Z(t.user_id).then((function(e){e.files.sort(de),p({name:e.name,email:e.email,files:e.files})})).finally(ne().then((function(e){var t=e.filter((function(e){return e.email===j.email}));t.sort(oe),B(t)})))}),[t.user_id,j.email]),Object(x.jsxs)("div",{className:"windowSize padding",style:{overflow:"scroll"},children:[Object(x.jsx)(ie.a,{children:Object(x.jsx)(b,{style:{marginBottom:"40px"}})}),Object(x.jsxs)(ie.a,{style:{padding:"15px 0px"},children:[Object(x.jsx)(le.a,{sm:6,children:Object(x.jsx)("div",{className:"flex-column box",style:{width:"100%",height:"calc(100% - 20px)",overflow:"visible"},children:Object(x.jsx)(m.a,{style:{height:"100%"},onSubmit:function(e){e.preventDefault(),function(e){return W("/files",{file:e})}(v).then((function(e){e.errors?C(!0):(C(!1),te({email:t.email,file_id:e.data.id}),n.push("/files/".concat(e.data.id)))}))},children:Object(x.jsxs)(m.a.Group,{className:"flex-column space-between",style:{height:"100%"},children:[Object(x.jsx)(ie.a,{children:Object(x.jsxs)(le.a,{children:[Object(x.jsx)(m.a.Label,{children:"Name"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"text",onChange:function(e){var t=Object.assign({},v);t.name=e.target.value,f(t)},value:v.name,placeholder:"Choose name"})]})}),Object(x.jsxs)(ie.a,{style:{overflow:"visible"},children:[Object(x.jsxs)(le.a,{xs:8,children:[Object(x.jsx)(m.a.Label,{children:"Language"}),Object(x.jsxs)(m.a.Control,{className:"dark-form",as:"select",value:v.language,onChange:function(e){var t=Object.assign({},v);t.language=e.target.value,f(t)},children:[Object(x.jsx)("option",{value:50,children:"C (GCC 9.2.0)"}),Object(x.jsx)("option",{value:54,children:"C++ (GCC 9.2.0)"}),Object(x.jsx)("option",{value:57,children:"Elixir"}),Object(x.jsx)("option",{value:62,children:"Java 13"}),Object(x.jsx)("option",{value:63,children:"JavaScript 12.14"}),Object(x.jsx)("option",{value:69,children:"Prolog (GNU 1.4.5)"}),Object(x.jsx)("option",{value:71,children:"Python 3"}),Object(x.jsx)("option",{value:72,children:"Ruby 2.7"}),Object(x.jsx)("option",{value:83,children:"Swift 5"})]})]}),Object(x.jsx)(le.a,{xs:4,style:{overflow:"visible"},children:Object(x.jsx)(h.a,{variant:"outline-success",style:{position:"relative",width:"100%",top:"100%",transform:"translateY(-100%)"},type:"submit",children:"Create"})})]}),N?Object(x.jsx)(ie.a,{children:Object(x.jsx)(le.a,{children:Object(x.jsx)(m.a.Text,{className:"text-danger",children:"Name can't be blank"})})}):Object(x.jsx)(x.Fragment,{})]})})})}),Object(x.jsx)(le.a,{sm:6,children:i?Object(x.jsx)("div",{className:"flex-column end box inset",style:{width:"100%",height:"247px",overflow:"visible"},children:Object(x.jsx)(ue,{session:t,setEdit:l,edit:i,parentUser:j})}):Object(x.jsxs)("div",{className:"flex-column end box",style:{width:"100%",overflow:"visible"},children:[Object(x.jsx)("h1",{className:"personalUsername",children:j.name}),Object(x.jsx)("p",{children:j.email}),Object(x.jsxs)("div",{className:"flex-row end",style:{overflow:"visible"},children:[Object(x.jsx)(h.a,{variant:"outline-light",className:"profileButton",onClick:function(){l(!i)},children:"Edit Profile"}),Object(x.jsx)(h.a,{variant:"outline-danger",className:"profileButton",onClick:function(){J.dispatch({type:"session/clear"}),n.push("/")},children:"Logout"})]})]})})]}),Object(x.jsx)(ie.a,{}),Object(x.jsx)(re,{user:j,setUser:p,invites:E,owner:!0})]})}var be=Object(l.b)((function(e){return{session:e.session}}))((function(e){var t=e.session,n=Object(d.g)().id;return t&&t.user_id==n?Object(x.jsx)(xe,{session:t}):Object(x.jsx)(je,{id:n})})),he=n(507),me=n(505);function pe(e){var t=e.id,n=e.file,a=Object(d.f)(),c=Object(s.useState)([!1,!1,!1]),i=Object(u.a)(c,2),l=i[0],r=i[1],o=Object(s.useState)({email:"",password:""}),b=Object(u.a)(o,2),p=b[0],O=b[1],g=Object(s.useState)(!1),v=Object(u.a)(g,2),f=v[0],w=v[1],y=Object(s.useState)({name:"",email:"",password:""}),N=Object(u.a)(y,2),C=N[0],k=N[1],E=Object(s.useState)({name:null,email:null,password:null}),B=Object(u.a)(E,2),_=B[0],H=B[1];function P(e){var t=Object(j.a)(l);t[e]=!t[e],r(t)}return Object(x.jsxs)("div",{className:"socialInfoContainer padding",children:[Object(x.jsxs)("div",{style:{minHeight:"85px",width:"100%"},children:[Object(x.jsx)("h1",{className:"fileNameText",children:n.name}),Object(x.jsxs)("p",{className:"text-muted",children:["Owner: ",Object(x.jsx)("span",{className:"hoverGreen",style:{cursor:"pointer"},onClick:function(){a.push("/users/".concat(n.user_id)),S()},children:n.user_email})]})]}),Object(x.jsxs)("div",{className:"box slimPadding boxHeadingContainer ".concat(l[0]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){P(0)},children:[Object(x.jsx)("h5",{className:"".concat(l[0]?"":"text-muted"," toggleBoxHeading"),children:"Description"}),l[0]?Object(x.jsx)("h5",{className:"".concat(l[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"-"}):Object(x.jsx)("h5",{className:"".concat(l[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"+"})]}),Object(x.jsx)("div",{style:{height:"10px"}}),Object(x.jsx)("div",{className:"text-muted insetBorder",style:{height:"150px",overflowY:"scroll",wordWrap:"break-word"},children:n.description?n.description:"None"})]}),Object(x.jsxs)("div",{className:"box slimPadding boxHeadingContainer ".concat(l[1]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){P(1)},children:[Object(x.jsx)("h5",{className:"toggleBoxHeading green",children:"Login"}),l[1]?Object(x.jsx)("h5",{className:"toggleBoxHeading dSign ",children:"-"}):Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"+"})]}),Object(x.jsx)("div",{style:{height:"10px"}}),Object(x.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),V(p.email,p.password).then((function(e){e?(w(!1),a.push("/files/".concat(t)),S()):w(!0)}))},autoComplete:"new-password",style:{marginBottom:"10px",overflow:"visible"},children:[Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Email"}),Object(x.jsx)(m.a.Control,{type:"email",placeholder:"Enter Email",autoComplete:"unsupportedrandom",className:"dark-form",onChange:function(e){var t=Object.assign({},p);t.email=e.target.value,O(t)},value:p.email})]}),Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Password"}),Object(x.jsx)(m.a.Control,{type:"password",placeholder:"Enter Password",autoComplete:"unsupportedrandom",className:"dark-form",onChange:function(e){var t=Object.assign({},p);t.password=e.target.value,O(t)},value:p.password})]}),Object(x.jsxs)("div",{className:"flex-row center space-between",style:{overflow:"visible"},children:[f?Object(x.jsx)(m.a.Text,{className:"text-danger",children:"Invalid email or password"}):Object(x.jsx)("div",{}),Object(x.jsx)(h.a,{type:"submit",variant:"outline-success",children:"Login"})]})]})]}),Object(x.jsxs)("div",{className:"box slimPadding boxHeadingContainer ".concat(l[2]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){P(2)},children:[Object(x.jsx)("h5",{className:"toggleBoxHeading green",children:"Sign Up"}),l[2]?Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"-"}):Object(x.jsx)("h5",{className:"toggleBoxHeading dSign",children:"+"})]}),Object(x.jsx)("div",{style:{height:"10px"}}),Object(x.jsxs)(m.a,{onSubmit:function(e){if(e.preventDefault(),C.password.length<8){var n={name:null,email:null,password:null};return n.password="password must be 8 characters or longer",void H(n)}if(C.name.length>=10){var s={name:null,email:null,password:null};return s.name="Name must be 10 characters or less",void H(s)}X(C).then((function(e){if(e.errors){var n=Object.assign({},_);e.errors.name?n.name=e.errors.name[0]:n.name="",e.errors.email?n.email=e.errors.email[0]:n.email="",e.errors.password?n.password=e.errors.password[0]:n.password="",H(n)}else V(C.email,C.password).then((function(e){e&&(a.push("/files/".concat(t)),S())}))}))},autoComplete:"new-password",style:{marginBottom:"10px",overflow:"visible"},children:[Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Name"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"text",onChange:function(e){var t=Object.assign({},C);t.name=e.target.value,k(t)},value:C.name,placeholder:"Enter name"}),_.name?Object(x.jsx)(m.a.Text,{className:"text-danger",children:_.name}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Email"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"email",onChange:function(e){var t=Object.assign({},C);t.email=e.target.value,k(t)},value:C.email,placeholder:"Enter email"}),_.email?Object(x.jsx)(m.a.Text,{className:"text-danger",children:_.email}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsxs)(m.a.Group,{children:[Object(x.jsx)(m.a.Text,{className:"text-muted",children:"Password"}),Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form",type:"password",onChange:function(e){var t=Object.assign({},C);t.password=e.target.value,k(t)},value:C.password,placeholder:"Choose a password"}),_.password?Object(x.jsx)(m.a.Text,{className:"text-danger",children:_.password}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsx)("div",{className:"flex-row end",style:{overflow:"visible"},children:Object(x.jsx)(h.a,{variant:"outline-success",type:"submit",children:"Sign Up"})})]})]})]})}function Oe(e){e.id;var t=e.language,n=Object(d.f)();return Object(x.jsxs)("div",{className:"editorInfoContainer padding",children:[Object(x.jsx)("div",{style:{minHeight:"45px",width:"100%"},children:Object(x.jsxs)("div",{className:"flex-row center space-between",style:{width:"100%",overflow:"visible",minHeight:"38px"},children:[Object(x.jsx)(h.a,{variant:"outline-info",onClick:function(){n.push("/signup"),S()},style:{textOverflow:"clip",whiteSpace:"nowrap"},children:"Login | Sign Up"}),Object(x.jsx)("h1",{className:"headingEmoji",onClick:function(){n.push("/"),S()},children:"\ud83c\udf50"})]})}),Object(x.jsx)("div",{className:"box inset slimPadding",children:Object(x.jsxs)("div",{className:"flex-row center space-between",style:{width:"100%",padding:"0px 20px",overflow:"visible"},children:[Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Not logged in"}),children:Object(x.jsx)("h1",{className:"headingEmoji small disabled",children:"\ud83d\udcbe"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Not logged in"}),children:Object(x.jsx)("h1",{className:"headingEmoji small disabled",children:"\ud83d\udcce"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Not logged in"}),children:Object(x.jsx)("h1",{className:"headingEmoji small disabled",children:"\ud83d\udda8\ufe0f"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Not Logged in"}),children:Object(x.jsx)("h1",{className:"headingEmoji small disabled",children:"\ud83d\uddd1\ufe0f"})})]})}),Object(x.jsx)("div",{className:"box slimPadding flex-column boxHeadingContainer",style:{margin:"10px 0px"},children:Object(x.jsxs)(m.a.Control,{disabled:!0,className:"dark-form muted",as:"select",value:t,children:[Object(x.jsx)("option",{value:50,children:"C (GCC 9.2.0)"}),Object(x.jsx)("option",{value:54,children:"C++ (GCC 9.2.0)"}),Object(x.jsx)("option",{value:57,children:"Elixir"}),Object(x.jsx)("option",{value:62,children:"Java 13"}),Object(x.jsx)("option",{value:63,children:"JavaScript 12.14"}),Object(x.jsx)("option",{value:69,children:"Prolog (GNU 1.4.5)"}),Object(x.jsx)("option",{value:71,children:"Python 3"}),Object(x.jsx)("option",{value:72,children:"Ruby 2.7"}),Object(x.jsx)("option",{value:83,children:"Swift 5"})]})}),Object(x.jsx)("div",{className:"box slimPadding",style:{margin:"10px 0px"},children:Object(x.jsx)("p",{className:"text-danger",style:{fontSize:".9em"},children:"Log in to or create an invited account to modify and run this file"})})]})}function ge(e){var t=e.session,n=e.file,a=e.language,c=e.setLanguage,i=e.save,l=e.body,r=e.participants,o=e.result,b=e.executing,p=e.connected,O=Object(d.f)(),g=t.user_id===n.user_id,v="https://pearcode.swoogity.com/files/".concat(n.id),f=Object(s.useState)([!1,!1]),w=Object(u.a)(f,2),N=w[0],C=w[1];function E(e){var t=Object(j.a)(N);t[e]=!t[e],C(t)}function B(e){var t={50:".c",54:".cpp",57:".ex",62:".java",63:".js",69:".pl",71:".py",72:".rb",83:".swift"}[a],n=document.createElement("a"),s=new Blob([l],{type:"text/plain"});n.href=URL.createObjectURL(s),n.download="".concat(e).concat(t),document.body.appendChild(n),n.click()}return Object(x.jsxs)("div",{className:"editorInfoContainer padding",children:[Object(x.jsx)("div",{style:{minHeight:"45px",width:"100%"},children:Object(x.jsxs)("div",{className:"flex-row center space-between",style:{width:"100%",overflow:"visible",minHeight:"38px"},children:[Object(x.jsx)(h.a,{variant:"outline-info",onClick:function(){O.push("/users/".concat(t.user_id)),S()},style:{textOverflow:"clip",whiteSpace:"nowrap"},children:"Your Profile"}),Object(x.jsx)("h1",{className:"headingEmoji",onClick:function(){O.push("/"),S()},children:"\ud83c\udf50"})]})}),g?Object(x.jsx)("div",{className:"box inset slimPadding",children:Object(x.jsxs)("div",{className:"flex-row center space-between",style:{width:"100%",padding:"0px 20px",overflow:"visible"},children:[Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Save"}),children:Object(x.jsx)("h1",{className:"headingEmoji small",onClick:function(){i()},children:"\ud83d\udcbe"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Copy Link"}),children:Object(x.jsx)("h1",{className:"headingEmoji small",children:"\ud83d\udcce"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Download File"}),children:Object(x.jsx)("h1",{className:"headingEmoji small",onClick:function(){B(n.name)},children:"\ud83d\udda8\ufe0f"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Delete File"}),children:Object(x.jsx)("h1",{className:"headingEmoji small",onClick:function(){ee(n.id).then((function(){console.log("fix deleting when others are viewing!"),O.push("/users/".concat(t.user_id)),S()}))},children:"\ud83d\uddd1\ufe0f"})})]})}):Object(x.jsx)("div",{className:"box inset slimPadding",children:Object(x.jsxs)("div",{className:"flex-row center space-between",style:{width:"100%",padding:"0px 20px",overflow:"visible"},children:[Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Not file owner"}),children:Object(x.jsx)("h1",{className:"headingEmoji small disabled",children:"\ud83d\udcbe"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Copy Link"}),children:Object(x.jsx)("h1",{className:"headingEmoji small",onClick:function(){navigator.clipboard.writeText(v)},children:"\ud83d\udcce"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Download File"}),children:Object(x.jsx)("h1",{className:"headingEmoji small",onClick:function(){B(n.name)},children:"\ud83d\udda8\ufe0f"})}),Object(x.jsx)(he.a,{placement:"top",overlay:Object(x.jsx)(me.a,{children:"Not file owner"}),children:Object(x.jsx)("h1",{className:"headingEmoji small disabled",children:"\ud83d\uddd1\ufe0f"})})]})}),Object(x.jsx)("div",{className:"box slimPadding flex-column boxHeadingContainer",style:{margin:"10px 0px",minHeight:"106px"},children:0===p?Object(x.jsxs)("div",{className:"flex-column centercenter",style:{width:"100%",height:"100%"},children:[Object(x.jsx)("div",{className:"spinner"}),Object(x.jsx)("div",{style:{height:"10px"}}),Object(x.jsx)("p",{children:"connecting..."})]}):1===p?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a.Control,{className:"dark-form muted",as:"select",value:a,onChange:function(e){c(e.target.value),function(e){y.push("set_language",{language:e})}(e.target.value)},children:[Object(x.jsx)("option",{value:50,children:"C (GCC 9.2.0)"}),Object(x.jsx)("option",{value:54,children:"C++ (GCC 9.2.0)"}),Object(x.jsx)("option",{value:57,children:"Elixir"}),Object(x.jsx)("option",{value:62,children:"Java 13"}),Object(x.jsx)("option",{value:63,children:"JavaScript 12.14"}),Object(x.jsx)("option",{value:69,children:"Prolog (GNU 1.4.5)"}),Object(x.jsx)("option",{value:71,children:"Python 3"}),Object(x.jsx)("option",{value:72,children:"Ruby 2.7"}),Object(x.jsx)("option",{value:83,children:"Swift 5"})]}),Object(x.jsx)("div",{style:{height:"10px"}}),Object(x.jsx)(h.a,{variant:b?"outline-warning":"outline-info",onClick:function(){b||k(parseInt(a))},style:{minHeight:"38px"},children:b?Object(x.jsx)("div",{className:"flex-row centercenter",style:{width:"100%",height:"100%"},children:Object(x.jsx)("div",{className:"smallSpinner"})}):"Execute"})]}):Object(x.jsx)("p",{className:"text-danger",children:"Failed to connect, try refreshing the page"})}),Object(x.jsxs)("div",{className:"box slimPadding flex-column boxHeadingContainer ".concat(N[0]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){E(0)},children:[Object(x.jsx)("h5",{className:"".concat(N[0]?"":"text-muted"," toggleBoxHeading"),children:"Activity"}),N[0]?Object(x.jsx)("h5",{className:"".concat(N[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"-"}):Object(x.jsx)("h5",{className:"".concat(N[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"+"})]}),Object(x.jsx)("div",{className:"insetBorder",style:{height:"200px",overflow:"scroll"},children:r.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsxs)("p",{children:[e.name,e.typing?Object(x.jsx)("span",{children:"\u2002\u2328\ufe0f"}):Object(x.jsx)(x.Fragment,{}),e.executing?Object(x.jsx)("span",{children:"\u2002\ud83c\udfc3\ud83c\udffd"}):Object(x.jsx)(x.Fragment,{})]})},t)}))})]}),Object(x.jsxs)("div",{className:"box slimPadding flex-column boxHeadingContainer ".concat(N[1]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){E(1)},children:[Object(x.jsx)("h5",{className:"".concat(N[1]?"":"text-muted"," toggleBoxHeading"),children:"Results"}),N[1]?Object(x.jsx)("h5",{className:"".concat(N[1]?"":"text-muted"," toggleBoxHeading dSign"),children:"-"}):Object(x.jsx)("h5",{className:"".concat(N[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"+"})]}),Object(x.jsx)("div",{className:"insetBorder",style:{height:"400px",overflow:"scroll"},children:o?Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"bold green",children:"Time:"})," ",o.time]}),Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{className:"bold green",children:"Memory:"})," ",o.memory,"kb"]}),o.stderr?Object(x.jsxs)("p",{style:{whiteSpace:"pre-line"},children:[Object(x.jsx)("span",{className:"bold red",children:"stderr:"})," ","\n".concat(o.stderr)]}):Object(x.jsxs)("p",{style:{whiteSpace:"pre-line"},children:[Object(x.jsx)("span",{className:"bold green",children:"stdout:"})," ","\n".concat(o.stdout)]})]}):Object(x.jsx)("p",{children:"No results yet, run code to see results."})})]})]})}function ve(e){var t=e.session,n=e.file,a=e.reload,c=e.updateFile,i=e.setUpdateFile,l=e.fileNameError,r=Object(d.f)(),o=Object(s.useState)(""),b=Object(u.a)(o,2),p=b[0],O=b[1],g=Object(s.useState)(""),v=Object(u.a)(g,2),f=v[0],w=v[1];t||(t={user_id:null,email:null});var y=t.user_id===n.user_id,N=Object(s.useState)([!1,!1,!1]),C=Object(u.a)(N,2),k=C[0],E=C[1],B=n.invites.some((function(e){return e.email===t.email}));function _(e){var t;(t=e.target.value,Y("/invites/".concat(t))).then((function(e){a("")}))}function H(e){var t;(t=e.target.value,Y("/comments/".concat(t))).then((function(e){a("")}))}function P(e){var t=Object(j.a)(k);t[e]=!t[e],E(t)}return Object(x.jsxs)("div",{className:"socialInfoContainer padding",children:[Object(x.jsxs)("div",{style:{minHeight:"85px",width:"100%"},children:[y?Object(x.jsx)(m.a,{onSubmit:function(e){return e.preventDefault()},autoComplete:"new-password",style:{width:"100%"},children:Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"header-form",type:"email",value:c.name,onChange:function(e){var t=Object.assign({},c);t.name=e.target.value,i(t)},placeholder:"Enter name"})}):Object(x.jsx)("h1",{className:"fileNameText",children:n.name}),l?Object(x.jsxs)("p",{className:"text-danger",children:[" ",l]}):Object(x.jsxs)("p",{className:"text-muted",children:["Owner: ",Object(x.jsx)("span",{className:"hoverGreen",style:{cursor:"pointer"},onClick:function(){r.push("/users/".concat(n.user_id)),S()},children:n.user_name})]})]}),Object(x.jsxs)("div",{className:"box slimPadding boxHeadingContainer ".concat(k[0]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){P(0)},children:[Object(x.jsx)("h5",{className:"".concat(k[0]?"":"text-muted"," toggleBoxHeading"),children:"Description"}),k[0]?Object(x.jsx)("h5",{className:"".concat(k[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"-"}):Object(x.jsx)("h5",{className:"".concat(k[0]?"":"text-muted"," toggleBoxHeading dSign"),children:"+"})]}),Object(x.jsx)("div",{style:{height:"10px"}}),y?Object(x.jsx)(m.a,{onSubmit:function(e){return e.preventDefault()},autoComplete:"new-password",style:{width:"100%"},children:Object(x.jsx)(m.a.Group,{children:Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form muted",style:{height:"150px",resize:"none"},as:"textarea",value:c.description,onChange:function(e){var t=Object.assign({},c);t.description=e.target.value,i(t)},placeholder:"Enter Description"})})}):Object(x.jsx)("div",{className:"text-muted insetBorder",style:{height:"150px",overflowY:"scroll",wordWrap:"break-word"},children:n.description?n.description:"None"})]}),Object(x.jsxs)("div",{className:"box slimPadding flex-column boxHeadingContainer ".concat(k[1]?"":"closed"),style:{margin:"10px 0px"},children:[Object(x.jsxs)("div",{className:"flex-row space-between toggleBoxContainer",onClick:function(){P(1)},children:[Object(x.jsx)("h5",{className:"".concat(k[1]?"":"text-muted"," toggleBoxHeading"),children:"Invites"}),k[1]?Object(x.jsx)("h5",{className:"".concat(k[1]?"":"text-muted"," toggleBoxHeading dSign"),children:"-"}):Object(x.jsx)("h5",{className:"".concat(k[1]?"":"text-muted"," toggleBoxHeading dSign"),children:"+"})]}),Object(x.jsx)("div",{className:"insetBorder",style:{height:"".concat(y?"200px":"250px"),overflow:"scroll"},children:n.invites.map((function(e){return Object(x.jsxs)("div",{className:"flex-row center space-between inviteDisplay",children:[Object(x.jsxs)("p",{className:"text-muted",style:{whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"200px"},children:["- ",e.email]}),y&&e.email!==t.email?Object(x.jsx)(h.a,{className:"inviteDisplayDelete",variant:"outline-danger",onClick:_,value:e.id,children:"Delete"}):Object(x.jsx)(x.Fragment,{})]},e.id)}))}),y||B?Object(x.jsx)(m.a,{onSubmit:function(e){e.preventDefault(),te({email:p,file_id:parseInt(n.id)}).then((function(){O(""),a("")}))},autoComplete:"new-password",style:{width:"100%",overflow:"visible"},children:Object(x.jsxs)("div",{className:"flex-row",style:{overflow:"visible"},children:[Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form muted",type:"text",value:p,onChange:function(e){O(e.target.value)},placeholder:"Invite email"}),Object(x.jsx)("div",{style:{width:"15px"}}),Object(x.jsx)(h.a,{variant:""===p?"outline-info":"outline-success",type:"submit",children:"Invite"})]})}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsx)("div",{className:"box slimPadding boxHeadingContainer ".concat(k[2]?"":"closed"),style:{margin:"10px 0px"},children:Object(x.jsxs)("div",{className:"flex-column",style:{overflow:"visible",width:"100%"},children:[Object(x.jsxs)("div",{style:{minHeight:"24px"},className:"flex-row space-between toggleBoxContainer",onClick:function(){P(2)},children:[Object(x.jsx)("h5",{className:"".concat(k[2]?"":"text-muted"," toggleBoxHeading"),children:"Comments"}),k[2]?Object(x.jsx)("h5",{className:"".concat(k[2]?"":"text-muted"," toggleBoxHeading dSign"),children:"-"}):Object(x.jsx)("h5",{className:"".concat(k[2]?"":"text-muted"," toggleBoxHeading dSign"),children:"+"})]}),Object(x.jsx)("div",{className:"insetBorder",style:{height:"".concat(y||B?"200px":"250px"),overflow:"scroll"},children:n.comments.map((function(e){return Object(x.jsxs)("div",{className:"flex-row space-between inviteDisplay",style:{marginBottom:"5px"},children:[Object(x.jsxs)("p",{className:"text-muted",style:{wordWrap:"break-word",textOverflow:"ellipsis",maxWidth:"170px"},children:[Object(x.jsxs)("span",{className:"commentUserName",children:[e.user.name,": "]}),e.body]}),y||e.user.id===t.user_id?Object(x.jsx)(h.a,{className:"inviteDisplayDelete",style:{marginTop:"4px"},variant:"outline-danger",onClick:H,value:e.id,children:"Delete"}):Object(x.jsx)(x.Fragment,{})]},e.id)}))}),y?Object(x.jsx)(m.a,{onSubmit:function(e){var s;e.preventDefault(),(s={body:f,file_id:n.id,user_id:t.user_id},W("/comments",{comment:s})).then((function(){w(""),a("")}))},autoComplete:"new-password",style:{width:"100%",overflow:"visible"},children:Object(x.jsxs)("div",{className:"flex-row",style:{overflow:"visible"},children:[Object(x.jsx)(m.a.Control,{autoComplete:"unsupportedrandom",className:"dark-form muted",type:"text",value:f,onChange:function(e){w(e.target.value)},placeholder:"Comment"}),Object(x.jsx)("div",{style:{width:"15px"}}),Object(x.jsx)(h.a,{variant:""===f?"outline-info":"outline-success",type:"submit",children:"Post"})]})}):Object(x.jsx)(x.Fragment,{})]})})]})}var fe=Object(l.b)((function(e){return{session:e.session}}))((function(e){var t=e.session,n=Object(d.g)().id,a=Object(s.useState)(""),c=Object(u.a)(a,2),i=c[0],l=c[1],r=Object(s.useState)([]),o=Object(u.a)(r,2),j=o[0],h=o[1],m=Object(s.useState)(!1),p=Object(u.a)(m,2),v=p[0],k=p[1],E=Object(s.useState)(null),B=Object(u.a)(E,2),_=B[0],H=B[1],P=Object(s.useState)(0),L=Object(u.a)(P,2),T=L[0],D=L[1],G=Object(s.useState)(!1),F=Object(u.a)(G,2),U=F[0],I=F[1],J=Object(s.useState)({name:"",description:""}),R=Object(u.a)(J,2),A=R[0],z=R[1],W=Object(s.useState)(50),M=Object(u.a)(W,2),Y=M[0],q=M[1],Q=Object(s.useState)(!0),V=Object(u.a)(Q,2),X=V[0],Z=V[1],ee=Object(s.useState)({name:"",description:"",language:50,user_name:"",user_id:null,user_email:"",invites:[],comments:[],id:n,alert:null}),te=Object(u.a)(ee,2),ne=te[0],se=te[1];function ae(e){S()}return Object(s.useEffect)((function(){return window.addEventListener("beforeunload",ae),function(){return window.removeEventListener("beforeunload",ae)}}),[]),Object(s.useEffect)((function(){var e={setBody:l,setParticipants:h,setExecuting:k,setResult:H,setLanguage:q,setConnected:D};$(n).then((function(s){se({name:s.name,description:s.description,language:s.language,user_name:s.user_name,user_id:s.user_id,user_email:s.user_email,invites:s.invites,comments:s.comments,id:n,alert:null}),z({name:s.name,description:null===s.description?"":s.description}),l(s.body),q(s.language),t&&function(e,t,n,s,a){y=f.channel("lobby:".concat(e),{name:t,user_id:n,file_id:s}),w=a,(N=new g.Presence(y)).onSync((function(){w.setParticipants(N.list().map((function(e){return e.metas[0]})))})),y.join().receive("ok",(function(e){w.setBody(e.body),w.setConnected(1)})).receive("error",(function(e){console.log("unable to join:",e),w.setConnected(2)})),y.on("updated",(function(e){w.setBody(e.body)})),y.on("executing",(function(){w.setExecuting(!0)})),y.on("submission_result",(function(e){w.setExecuting(!1),w.setResult(e)})),y.on("new_language",(function(e){w.setLanguage(e.language)}))}("".concat(s.user_id,"-").concat(s.id),t.name,t.user_id,s.id,e)})).catch((function(e){e instanceof SyntaxError&&Z(!1)}))}),[n,t]),X?Object(x.jsx)("div",{className:"maxSize",children:Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("div",{className:"fileInfoContainer",children:t?Object(x.jsx)(ve,{session:t,file:ne,reload:function(e){$(n).then((function(t){se({name:t.name,description:t.description,language:t.language,user_name:t.user_name,user_id:t.user_id,user_email:t.user_email,invites:t.invites,comments:t.comments,id:n,alert:e})})).catch((function(e){e instanceof SyntaxError&&Z(!1)}))},updateFile:A,setUpdateFile:z,fileNameError:U}):Object(x.jsx)(pe,{id:n,file:ne})}),Object(x.jsx)("div",{className:"fileAceContainer",children:Object(x.jsx)(O.a,{mode:function(e){if("string"===typeof e)switch(e){case"50":case"54":return"c_cpp";case"57":return"elixir";case"62":return"java";case"63":return"javascript";case"69":return"prolog";case"71":return"python";case"72":return"ruby";case"83":return"swift";default:return console.log("idToMode - unkown language id: ".concat(e)),"python"}else switch(e){case 50:case 54:return"c_cpp";case 57:return"elixir";case 62:return"java";case 63:return"javascript";case 69:return"prolog";case 71:return"python";case 72:return"ruby";case 83:return"swift";default:return console.log("idToMode - unkown language id: ".concat(e)),"python"}}(Y),theme:"pastel_on_dark",height:"100vh",width:"100%",value:i,onChange:function(e){l(e),C(e)},onBlur:function(){y.push("stoptyping",null)},highlightActiveLine:!0,showGutter:!0,readOnly:!1,setOptions:{enableLiveAutocompletion:!0,showLineNumbers:!0,readOnly:!t}})}),Object(x.jsx)("div",{className:"fileInfoContainer",children:t?Object(x.jsx)(ge,{session:t,file:ne,language:Y,setLanguage:q,save:function(){A.name.length<1?I("A file name is required"):(I(!1),function(e,t){return K("/files/".concat(e),t)}(n,{id:n,file:{name:A.name,description:A.description,language:Y,body:i}}).then((function(e){e.errors&&(I("Something went wrong"),console.log(e))})))},body:i,participants:j,result:_,executing:v,connected:T}):Object(x.jsx)(Oe,{id:n,language:Y})})]})}):Object(x.jsxs)("div",{className:"maxSize padding",children:[Object(x.jsx)(b,{}),Object(x.jsx)("div",{style:{height:"30px"}}),Object(x.jsxs)("p",{children:["file with id ",n," not found"]})]})}));var we=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(o.a,{fluid:!0,className:"mainContainer",children:Object(x.jsxs)(d.c,{children:[Object(x.jsx)(d.a,{exact:!0,path:"/",children:Object(x.jsx)(_,{})}),Object(x.jsx)(d.a,{exact:!0,path:"/signup",children:Object(x.jsx)(ce,{})}),Object(x.jsx)(d.a,{exact:!0,path:"/users/:id",children:Object(x.jsx)(be,{})}),Object(x.jsx)(d.a,{exact:!0,path:"/files/:id",children:Object(x.jsx)(fe,{})})]})})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,510)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(l.a,{store:J,children:Object(x.jsx)(r.a,{children:Object(x.jsx)(we,{})})})}),document.getElementById("root")),ye()},70:function(e,t,n){},71:function(e,t,n){}},[[499,1,2]]]);
//# sourceMappingURL=main.d6ed3453.chunk.js.map